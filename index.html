<!DOCTYPE html>
<html lang="en" class="show">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="color-scheme" content="light dark">
		<link rel="stylesheet" href="style.css">
		<title>Slideshow</title>
	</head>
	<body>
		<main>
			<div id="slide1" class="title centerblock center mgn">
				<h1>why not both?</h1>
				<p class="balance">Or, why building both dark and light schemes together is easy, actually.</p>
			</div>

			<div id="slide2" class="red">
				<h2>hello! ðŸ‘‹</h2>
				<div>
					<p>Sara Joy here.</p>
					<p id="1" class="hide">I'm both:</p>
					<p id="2" class="hide"> an old hand
						<br><i>(built my first websites as a teen in 1999)</i></p>
					<p id="3" class="hide"> and a newbie
						<br><i>(swiched career from general small-company engineering into web development in 2022)</i></p>
				</div>
			</div>

			<div id="slide3" class="pch">
				<h2>dark mode vs. light mode</h2>
				<div>
					<p>We all love a good polarising argument!</p>
					<p id="4" class="hide">But there are valid reasons to prefer one over the other.</p>
					<p id="5" class="hide">Also, you're allowed to just like light or dark websites better, for no good reason!</p>
					<p id="6" class="hide">Your eyes, your choice! <span id="7" class="hide">ðŸ‘€</span></p>
				</div>
			</div>

			<div id="slide4" class="orn">
				<h2>why dark mode?</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide5" class="ylw">
				<h2>why light mode?</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide6" class="lim">
				<h2>why not both?</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide7" class="grn">
				<h2>this talk's scope</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide8" class="tqs">
				<h2>starting from scratch</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide9" class="sky">
				<h2>default HTML themes</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide10" class="blu">
				<h2>color-scheme</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide11" class="nav">
				<h2>system colors</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide12" class="prp">
				<h2>contrast too high?</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide13" class="mgn">
				<h2>other colours</h2>
				<div>
					<p>color-mix, relative colors, filtering</p>
				</div>
			</div>

			<div id="slide14" class="red">
				<h2>prefers-color-scheme</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide15" class="pch">
				<h2>light-dark()</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>

			<div id="slide16" class="orn">
				<h2>takeaway - offer choice</h2>
				<div>
					<p>Content text here</p>
				</div>
			</div>
		</main>
		<button id="show" onClick="slideshowToggle()">Toggle Slideshow</button>
		<button id="mode" onClick="modeSwitcher()">Auto Mode</button>
		<script>
		function modeSwitcher() {
			const mode = document.querySelector('meta[name="color-scheme"]');
			const button = document.getElementById("mode");
			if (mode.getAttribute("content") === "light dark") {
				mode.setAttribute("content", "light");
				button.innerText = "Light Mode";
				return;
			}
			if (mode.getAttribute("content") === "light") {
				mode.setAttribute("content", "dark");
				button.innerText = "Dark Mode";
				return;
			}
			if (mode.getAttribute("content") === "dark") {
				mode.setAttribute("content", "light dark");
				button.innerText = "Auto Mode";
				return;
			}
		}

		function slideshowToggle() {
			document.querySelector("html").classList.toggle("show");
		}


		
		const observer = new IntersectionObserver(revelations => {
			revelations.forEach(revelation => {
				if(revelation.isIntersecting) {
					revelation.target.classList.add("in-viewport");
				} else {
					revelation.target.classList.remove("in-viewport");
				}
			})
		}, { threshold: 1 })

		let reveal = 1;

		document.addEventListener("keyup", (event) => {
			const element = document.getElementById(reveal);

			const hiddenElements = document.querySelectorAll(".hide, .reveal");
			for (const hiddenElement of hiddenElements) {
				observer.observe(hiddenElement);
			}
			
			const viewportElements = document.getElementsByClassName("in-viewport").length;

			if(!element) return;

			if (event.key === "ArrowRight" && element.classList.contains("in-viewport")) {
				element.classList.remove("hide");
				element.classList.add("reveal");
				reveal++;
			}
			if (event.key === "ArrowLeft" && element.classList.contains("in-viewport")) {
				element.classList.remove("reveal");
				element.classList.add("hide");
				reveal--;
			}
			if (reveal < 1) reveal = 1;
			if (reveal > hiddenElements.length) reveal = hiddenElements.length;
			
		});

		</script>
	</body>
</html>