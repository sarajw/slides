<!DOCTYPE html>
<html lang="en" class="show">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="color-scheme" content="light dark">
		<link rel="stylesheet" href="style.css">
		<title>Why not both 🤔 | Slide deck</title>
	</head>
	<body>
		<main class="rainbow">

			<article id="title" class="title centerblock center relative">
				<p class="instructions">I rolled my own slide deck. Wasn't the best plan, it's really quite janky!
					<br>Click to toggle the <button onClick="slideshowToggle()">reader view</button> or hover your cursor down to the bottom-left and click the Slideshow button there.
					<br>There's another hoverable <button onClick="modeSwitcher()">color mode</button> button bottom-right for toggling light, dark and auto modes.
					<br>Otherwise browse around with your arrow keys and enjoy the jank!
					<br>It was made to look best at a 16:9 aspect ratio.
				</p>
				<h1>why not both? 🤔</h1>
				<p class="hide">a.k.a. Light mode Vs Dark mode.</p>
				<p class="hide balance">Or, why building both dark and light schemes together is easy, actually.</p>
			</article>

			<article id="intro">
				<h2>hello! 👋</h2>
				<div class="relative">
					<img width="200" src="images/cartoon.png" alt="a cartoon avatar of me by Andy Carolan">
					<p>Sara here. <span class="hide">I'm both:</span></p>
					<ul>
						<li class="hide"> an old hand 👌
						<br><i>(built websites as a teen from 1999)</i></li>
						<li class="hide"> and a newbie 🤯
						<br><i>(switched career from small-company
						<br>general engineering into web dev in 2022)</i></li>
					</ul>
				</div>
			</article>

			<article id="warning">
				<h2>a warning</h2>
				<div>
					<p>There'll some movement, animation, and abrupt changes between dark and light modes in this presentation.</p>
					<p class="hide">If you suffer from migraines, epilepsy, or strong astigmatism
						<br> - I'm really sorry! 😓</p>
					<p class="hide">My hope is that with the information I'm about to present, browsing the web will get ever more comfortable for everyone.</p>
				</div>
			</article>

			<article id="versus">
				<h2>dark mode vs. light mode</h2>
				<div>
					<p>We all love a good polarising argument!</p>
					<p class="hide">But there are physical reasons to prefer one over the other.</p>
					<p class="hide">Also, you're allowed to like light or dark themed websites better, for no good or logical reason!</p>
					<p class="hide">Your eyes, your choice! <span id="7" class="hide">👀</span></p>
				</div>
			</article>

			<article id="ydark">
				<h2>why dark mode?</h2>
				<div class="relative">
					<p class="hide">Pupils constrict when coming across a bright page.</p>
					<p class="hide">Too much contrast with dark surroundings.</p>
					<p class="hide">Floaters appearing and distorting or blocking vision.</p>
					<img width="200" class="hide" src="/images/floaters1.png" alt="A recreation of how floaters look in vision.">
					<img width="200" class="hide" src="/images/floaters2.png" alt="Another recreation of how floaters look in vision.">
					<img width="200" class="hide" src="/images/floaters3.png" alt="Yet another recreation, including text 'People with severe floaters struggle to read text like this.'">
				</div>
			</article>

			<article id="ylight">
				<h2>why light mode?</h2>
				<div class="relative">
					<p class="hide">Pupils constrict when coming across a bright page!</p>
					<p class="hide">It's easier to focus when your pupil is smaller.</p>
					<p class="hide">Astigmatism makes light text on dark backgrounds hard to read.</p>
					<p class="hide shadow">Astigmatism makes light text on dark backgrounds hard to read.</p>
					<img width="200" class="hide" src="/images/astigmatism1.png" alt="Recreation of dark mode showing the effects of strong astigmatism in one eye and in both eyes.">
					<img width="200" class="hide" src="/images/astigmatism2.png" alt="Another recreation of astigmatism in dark mode.">
					<img width="200" class="hide" src="/images/astigmatism3.png" alt="Another recreation of astigmatism in dark mode.">
					<img width="200" class="hide" src="/images/astigmatism4.png" alt="Another recreation of astigmatism in dark mode.">
					<img width="200" class="hide" src="/images/astigmatism5.png" alt="Another recreation of astigmatism in dark mode.">
					<img width="200" class="hide" src="/images/astigmatism6.png" alt="Text 'I am the douche bag who makes people read white text on a black background.'">
					<img width="200" class="hide" src="/images/astigmatism7.png" alt="Text 'I am the douche bag who makes people read white text on a black background.' - this time distorted.">
				</div>
			</article>

			<article id="both">
				<h2>why not both?</h2>
				<div class="centerblock relative">
					<div class="waviy hide">
						<span style="--i:1; --rgb:var(--mgn)">G</span><span style="--i:2; --rgb:var(--red)">O</span><span style="--i:3; --rgb:var(--pch)">O</span><span style="--i:4; --rgb:var(--orn)">D</span>
						<span style="--i:6; --rgb:var(--ylw)">Q</span><span style="--i:7; --rgb:var(--lim)">U</span><span style="--i:8; --rgb:var(--grn)">E</span><span style="--i:9; --rgb:var(--tqs)">S</span><span style="--i:10; --rgb:var(--sky)">T</span><span style="--i:11; --rgb:var(--blu)">I</span><span style="--i:12; --rgb:var(--ind)">O</span><span style="--i:13; --rgb:var(--prp)">N</span><span style="--i:14; --rgb:var(--mgn)">!</span>
					</div>
					<p class="hide">Both!</p>
					<p class="hide">Both.</p>
					<p class="hide">Both is good.</p>
					<p class="hide">*nods*</p>
					<img width="200" class="hide" src="/images/eldorado.gif" alt="Miguel and Tulio from The Road to El Dorado waggling their eyebrows at each other.">
				</div>
			</article>

			<article id="scope">
				<h2>this talk's scope</h2>
				<div>
					<div class="hide"><p>Includes:</p>
						<ul>
							<li class="hide">Having your site react to <code>prefers-color-scheme</code>.</li>
							<li class="hide">Manual toggling of <code>colour-scheme</code>.</li>
						</ul>
					</div>
				</div>
			</article>

			<article id="scratch">
				<h2>starting from scratch</h2>
				<div>
					<p>No styles, no problem!</p>
					<p class="hide">However...</p>
					<p class="hide">Building this into a mature site or design system may be tricky.</p>
					<p class="hide">Harder still if everything already has specific colours assigned.</p>
					<p class="hide">Keep it in mind for the next time that you start a new project 🌱</p>
				</div>
			</article>

			<article id="themes">
				<h2>default HTML themes</h2>
				<div class="default">
					<div>
						<div>
							<header>
								<h1>Website name</h1>
								<nav>
									<ul>
										<li><a href="/">Home</a></li>
										<li><a href="#blog">Blog</a></li>
										<li><a href="/contact">Contact</a></li>
									</ul>
								</nav>
							</header>
							<main>
									<h2>Blog title</h2>
									<article>
										<h3>Blog post title</h3>
										<p>Blog post content</p>
									</article>
									<aside>
										<h4>By the Way:</h4>
										<p>Interesting extra info</p>
									</aside>
									<h4>Comments</h4>
									<article>First!</article>
									<article>Great post!</article>
									<article>Very informative!</article>
							</main>
							<footer>
								<p>Copyright Me, 2024</p>
							</footer>
						</div>

						<form>
							<h3>What a nice form!</h3>
							<label>text field
								<br><input type="text" placeholder="Hellooo">
							</label>
							<br><br>
							<label>
								check box <input type="checkbox">
							</label>
							<br><br>
							<label>
								radio <input type="radio">
							</label>
							<br><br>
							<label>
								car brands: <select name="cars" id="cars">
									<option value="volvo">Volvo</option>
									<option value="saab">Saab</option>
									<option value="mercedes">Mercedes</option>
									<option value="audi">Audi</option>
								</select>
							</label>
							<br><br>
							<label>Text area
								<br><Textarea rows="6">Prow scuttle parrel provost Sail ho shrouds spirits boom mizzenmast yardarm. Pinnace holystone mizzenmast quarter crow's nest nipperkin grog yardarm hempen halter furl. Swab barque interloper chantey doubloon starboard grog black jack gangway rutters.</Textarea>
							</label>
							<br><br>
							<button>Submit</button>
						</form>
					</div>
					<div class="hide">
						<div>
							<header>
								<h1>Website name</h1>
								<nav>
									<ul>
										<li><a href="/">Home</a></li>
										<li><a href="#blog">Blog</a></li>
										<li><a href="/contact">Contact</a></li>
									</ul>
								</nav>
							</header>
							<main>
									<h2>Blog title</h2>
									<article>
										<h3>Blog post title</h3>
										<p>Blog post content</p>
									</article>
									<aside>
										<h4>By the Way:</h4>
										<p>Interesting extra info</p>
									</aside>
									<h4>Comments</h4>
									<article>First!</article>
									<article>Great post!</article>
									<article>Very informative!</article>
							</main>
							<footer>
								<p>Copyright Me, 2024</p>
							</footer>
						</div>

						<form>
							<h3>What a nice form!</h3>
							<label>text field
								<br><input type="text" placeholder="Hellooo">
							</label>
							<br><br>
							<label>
								check box <input type="checkbox">
							</label>
							<br><br>
							<label>
								radio <input type="radio">
							</label>
							<br><br>
							<label>
								car brands: <select name="cars" id="cars">
									<option value="volvo">Volvo</option>
									<option value="saab">Saab</option>
									<option value="mercedes">Mercedes</option>
									<option value="audi">Audi</option>
								</select>
							</label>
							<br><br>
							<label>Text area
								<br><Textarea rows="6">Prow scuttle parrel provost Sail ho shrouds spirits boom mizzenmast yardarm. Pinnace holystone mizzenmast quarter crow's nest nipperkin grog yardarm hempen halter furl. Swab barque interloper chantey doubloon starboard grog black jack gangway rutters.</Textarea>
							</label>
							<br><br>
							<button>Submit</button>
						</form>
					</div>
				</div>
			</article>

			<article id="scheme">
				<h2><code>color-scheme</code></h2>
				<div>
					<p>You don't even need CSS for this!</p>
					<pre class="hide">
	<span class="comment">&lt;!-- in HTML --&gt;</span>
	&lt;head&gt;
	  &lt;meta name="color-scheme" content="light dark"&gt;
	&lt;/head&gt;</pre>
	<pre class="hide">
	<span class="comment">/* In CSS: */</span>
	:root <span class="comment">/* or html */</span> {
	  color-scheme: light dark;
	}</pre>
				</div>
			</article>

			<article id="scheme-demo">
				<h2 class="small-title"><code>color-scheme</code> demo</h2>
				<iframe scrolling="no" src="https://codepen.io/sarajw/embed/LYvgxaZ?default-tab=html%2Cresult&editable=true" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>
			</article>

			<article id="system">
				<h2>system colors</h2>
				<div>
					<style contenteditable="true">.system-demo {
  color-scheme: light;

  color: CanvasText;
  background-color: Canvas;

  div {
    color: Canvas;
    background-color: CanvasText;
  }
}</style>
					<div class="system-demo">
						Hellooooooo!
						<div>How are you?</div>
						<p class="hide">You can apply <code>color-scheme</code> to most elements.
						<br>But - they need to be assigned both a <code>color</code> and <code>background-color</code> first.</p>
					</div>
				</div>
			</article>

			<article id="other-system">
				<h2>other system colors 🙄</h2>
				<div class="relative">
					<style contenteditable="true">.system-demo2 {
  p:nth-of-type(1) {
    color: LinkText;
  }
  p:nth-of-type(3) {
    color: VisitedText;
  }
  p:nth-of-type(5) {
    color: ActiveText;
  }
}</style>
					<div class="system-demo2 small">
						<p>How are you?</p>
						<p><a href="https://notarealsite.com">Yeah good, you?</a></p>
						<p>Could be worse!</p>
						<p><a href="https://sarajoy.dev">Nice weather, innit?</a></p>
						<p>It's lovely! Storm tomorrow though.</p>
						<p><a href="https://notarealsite.com">Ooh I love a good storm!</a></p>
					</div>
					<img width="200" class="hide" style="z-index:-1" src="/images/firefox-system-colors.png" alt="screenshot of the same slide on FireFox">
				</div>
			</article>

			<article id="contrast">
				<h2>contrast too high?</h2>
				<div>
					<p>Those implementing WCAG for accessibility may find it unlikely.</p>
					<p class="hide">But some migraineurs do have trouble with this!</p>
					<p class="hide">Alongside <code>prefers-color-scheme</code> there is also
						<br><code>prefers-contrast</code>.</p>
					<p class="hide">The simplest way to bring contrast down is with 
						<br><code>filter: contrast()</code>.</p>
				</div>
			</article>

			<article id="contrast-demo">
				<h2>bringing down contrast</h2>
				<div>
					<style class="smallercode" contenteditable="true">.contrast-demo {
  color: CanvasText;
  background-color: Canvas;

  @media (prefers-contrast: less) {
    filter: contrast(0.5);
  }
	
  div {
    color: Canvas;
    background-color: CanvasText;
  }
}</style>
					<div class="contrast-demo">
						Hellooooooo!
						<div>How are you?</div>
						<p class="hide lowcontrast">Ahh thanks, this calms my eyes and brain.</p>
					</div>
				</div>
			</article>

			<article id="colors">
				<h2>other colours</h2>
				<div>
					<style class="smallercode" contenteditable="true">.colors-demo {
  p:nth-child(1) {
    color: color-mix(in srgb, red 40%, CanvasText);
  }
  p:nth-child(2) {
    background-color: color-mix(in srgb, Teal 60%, Canvas);
  }
  p:nth-child(3) {
    background-color: #f0f4;
  }
}</style>
					<div class="colors-demo">
						<p>How are you?
							<br>Yeah good, you?</p>
						<p>Could be worse!
							<br>Nice weather, innit?</p>
						<p>It's lovely! Storm tomorrow.
							<br>Ooh I love a good storm!</p>
					</div>
				</div>
			</article>

			<article id="prefers">
				<h2><code>prefers-color-scheme</code></h2>
				<div>
					<style class="smallercode" contenteditable="true">.prefers-demo {
  p:nth-child(2) {
    background-color: Indigo;
    @media (prefers-color-scheme: light) {
      background-color: Teal;
    }
  }
  p:nth-child(3) {
    background-color: #f0f4;
    @media (prefers-color-scheme: light) {
      background-color: #0f04;
    }
  }
}</style>
					<div class="prefers-demo">
						<p>This follows OS preference,
							<br>not <code>color-scheme</code> property.</p>
						<p>How are you?
							<br>Yeah good, you?</p>
						<p>Could be worse!
							<br>Nice weather, innit?</p>
					</div>
				</div>
			</article>

			<article id="lightdark">
				<h2><code>light-dark()</code></h2>
				<div>
					<style contenteditable="true">.lightdark-demo {
  p:nth-child(2) {
    background-color:
      light-dark(Teal, Indigo);
  }
  p:nth-child(3) {
    background-color:
      light-dark(#0f04, #f0f4);
  }
}</style>
					<div class="lightdark-demo">
						<p>Recently in all browsers,
							<br>at ~80% coverage - exciting!</p>
						<p>How are you?
							<br>Yeah good, you?</p>
						<p>Could be worse!
							<br>Nice weather, innit?</p>
					</div>
				</div>
			</article>

			<article id="switching">
				<h2>allow manual switching</h2>
				<div>
					<p>You may not want to view a site in your OS' color scheme.</p>
					<p class="hide">When using <code>prefers-color-scheme</code>, this was a pain.</p>
					<p class="hide">We had to override it, or double up CSS color declarations.</p>
					<p class="hide">This is easier now! 🎉</p>
					<p class="hide">Can we do it with CSS only? 🤔</p>
				</div>
			</article>

			<article id="css-only-demo">
				<h2 class="small-title"><code>:has()</code> rocks!</h2>
				<iframe scrolling="no" src="https://codepen.io/sarajw/embed/XWvXvGe?default-tab=html%2Cresult&editable=true" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>
			</article>

			<article id="css-only-limits">
				<h2>limitations</h2>
				<div>
					<p>You get limited pretty fast by avoiding JavaScript.</p>
					<p class="hide">Using <code>:has()</code> is magical, but only per-page.</p>
					<p class="hide">The preference doesn't get saved while browsing the site.</p>
					<p class="hide">You can't use <code>&lt;buttons&gt;</code> if you prefer those!</p>
					<p class="hide">So what JavaScript do we need?</p>
				</div>
			</article>

			<article id="keiths-maxim">
				<h2>Jeremy Keith's maxim</h2>
				<div class="center">
					<div class="hide">
						<p><i>"JavaScript should only do what only JavaScript can do."</i></p>
						<br>
						<img width="600" src="/images/keiths-maxim.jpg" alt="Jeremy Keith standing in front of a screen at a conference.">
					</div>
				</div>
			</article>

			<article id="with-js-demo">
				<h2 class="small-title">simple functions</h2>
				<iframe scrolling="no" src="https://codepen.io/sarajw/embed/abeoGjz?default-tab=html%2Cresult&editable=true" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>
			</article>

			<article id="with-storage-demo">
				<h2 class="small-title">saving to <code>localStorage</code></h2>
				<iframe scrolling="no" src="https://codepen.io/sarajw/embed/vYoyVEW?default-tab=html%2Cresult&editable=true" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>
			</article>

			<article id="with-aria-demo">
				<h2 class="small-title">using <code>aria-pressed</code> for buttons</h2>
				<iframe scrolling="no" src="https://codepen.io/sarajw/embed/PoMbXNp?default-tab=html%2Cresult&editable=true" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>
			</article>

			<article id="summary">
				<h2>in summary</h2>
				<div>
					<p class="hide">Use <code>color-scheme: light dark;</code></p>
					<p class="hide">Use <code>color-mix()</code> with <code>Canvas & CanvasText</code></p>
					<p class="hide">Start using <code>light-dark()</code>!</p>
					<p class="hide">Support user contrast preferences</p>
					<p class="hide">Experiment and play :)</p>
				</div>
			</article>

			<article id="choice">
				<h2>takeaway: offer choice</h2>
				<div>
					<table>
						<tr>
							<th></th>
							<th>light mode</th>
							<th>dark mode</th>
						</tr>
						<tr>
							<th>more contrast</th>
							<td class="light">Hi!</td>
							<td class="dark">Hi!</td>
						</tr>
						<tr>
							<th>less contrast</th>
							<td class="light lowcontrast">Hi!</td>
							<td class="dark lowcontrast">Hi!</td>
						</tr>
					</table>
				</div>
			</article>

			<article id="further">
				<h2>further reading</h2>
				<div>
					<p><a href="https://sarajoy.dev/blog/color-scheme/">Do you know color-scheme?</a> by me</p>
					<p><a href="https://web.dev/articles/color-scheme">Improved dark mode default styling with the color-scheme CSS property and the corresponding meta tag</a> by Thomas Steiner</p>
					<p><a href="https://weblog.anniegreens.lol/2024/04/what-ive-learned-about-css-color-scheme-and-system-color">What I've learned about CSS <code>color-scheme</code> and friends.</a>
						<br>by Apple Annie</p>
					<p><a href="https://codepen.io/sarajw/pen/xxzyOMZ">Color-scheme Tinkering</a> on codepen, by me again</p>
					<p><a href="https://web.dev/articles/light-dark">CSS color-scheme-dependent colors with light-dark()</a> by Bramus</p>
				</div>
			</article>

			<article id="thankyou">
				<h2>thank you!</h2>
				<div>
					<br>
					<p>I'm so happy to be taking part in the Hamburger DevFest!</p>
					<p class="center">🙏💖⚓</p>
					<br>
					<p class="right">🏠 <a href="https://sarajoy.dev">sarajoy.dev</a>
						<br>👋 <a href="https://front-end.social/@sarajw">@sarajw@front-end.social</a>
				</div>
			</article>

		</main>

		<button id="show" onClick="slideshowToggle()">Slideshow</button>
		<button id="mode" onClick="modeSwitcher()">Auto Mode</button>

		<script>
		const mode = document.querySelector('meta[name="color-scheme"]');
		const button = document.getElementById("mode");
		function modeSwitcher() {
			if (mode.getAttribute("content") === "light dark") {
				mode.setAttribute("content", "light");
				button.innerText = "Light Mode";
				return;
			}
			if (mode.getAttribute("content") === "light") {
				mode.setAttribute("content", "dark");
				button.innerText = "Dark Mode";
				return;
			}
			if (mode.getAttribute("content") === "dark") {
				mode.setAttribute("content", "light dark");
				button.innerText = "Auto Mode";
				return;
			}
		}
		if(window.location.href.endsWith('light')) {
			mode.setAttribute("content", "light");
			button.innerText = "Light Mode";
		}
		if(window.location.href.endsWith('dark')) {
			mode.setAttribute("content", "dark");
			button.innerText = "Dark Mode";
		}

		function slideshowToggle() {
			document.querySelector("html").classList.toggle("show");
		}
		if(window.location.href.endsWith('doc')) document.querySelector("html").classList.remove("show");

		const observer = new IntersectionObserver(revelations => {
			revelations.forEach(revelation => {
				if(revelation.isIntersecting) {
					revelation.target.classList.add("in-viewport");
				} else {
					revelation.target.classList.remove("in-viewport");
				}
			})
		}, { threshold: 1 })

		let reveal = 0;
		const hiddenElements = document.querySelectorAll(".hide, .reveal");
		for (const element of hiddenElements) {
			observer.observe(element)
		}
		let hiddenElementsInVP = document.querySelectorAll(".in-viewport");

		document.addEventListener("keyup", (event) => {
			setTimeout( () => {
				if (event.key === "ArrowDown" || event.key === "ArrowUp") {
					for (const element of hiddenElements) {
						observer.observe(element)
					}
				
					hiddenElementsInVP = document.querySelectorAll(".in-viewport");
					// console.log(hiddenElementsInVP);

					if (event.key === "ArrowDown") {
						for (const element of hiddenElementsInVP) {
							element.classList.remove("reveal");
							element.classList.add("hide");
						}
						reveal = 0;
					} 
					if (event.key === "ArrowUp") {
						for (const element of hiddenElementsInVP) {
							element.classList.remove("hide");
							element.classList.add("reveal");
						}
						reveal = hiddenElementsInVP.length - 1;
					} 
				}
			}, 250);

			hiddenElementsInVP = document.querySelectorAll(".in-viewport");
			const element = hiddenElementsInVP[reveal];
			// console.log(hiddenElementsInVP)
			if(!element) return;

			if (event.key === "ArrowRight") {
				element.classList.remove("hide");
				element.classList.add("reveal");
				reveal++;
			}
			if (event.key === "ArrowLeft") {
				element.classList.remove("reveal");
				element.classList.add("hide");
				reveal--;
			}
			if (reveal < 0) reveal = 0;
			if (reveal > hiddenElementsInVP.length - 1) reveal = hiddenElementsInVP.length - 1;
			// console.log(reveal)
		});

		</script>
	</body>
</html>